<!DOCTYPE html>
<html>

<head>
	<script type="text/javascript" src="eventBus.js"></script>
	<script type="text/javascript">
		var eb = new EventBus();

		var firstSubscriber = function(name) {
			console.log("Fast subscriber: " + name);
		}

		var slowSubscriber = function(name) {

			var result = 0;

			for (var i = 0; i < 100000000; i++) {
				result += i;
				if (i % 2 == 0) {
					result /= i;
					result *= i;
				}	
			}
			console.log("Slow subscriber: " + name);
		}

		eb.subscribe("slow", slowSubscriber);
		eb.subscribe("fast", firstSubscriber);

		for (var i = 0; i < 5; i++) {
			eb.post("Vasya #" + i);
		}
	</script>
</head>

<body></body>

</html>